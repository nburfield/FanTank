/*!
 * BC Innovations, LLC - v1.0.0
 * Copyright 2017-2017 BC Innovations, LLC
 * Licensed under ISC
 */
function loadUser(){$.get(serverContext+"/user/data",function(t){t?($(".user").show(),$(".userName").html(t.firstName),userLogged=t,setInvestNowData(t),autoFillData(t),document.body.dispatchEvent(bindButtonsEvent)):$(".nouser").show()}).fail(function(t){$(".nouser").show()})}function sendUserInvestment(t){$.post(serverContext+"/user/investment",t,function(t){$.notify("Investment Connection Success",{position:"right bottom",className:"success"})}).fail(function(t){$.notify(t.responseJSON.message,{position:"right bottom",className:"error"})})}function setInvestNowData(t){updateEvent.initEvent("fa.investnow.update",!0,!1),updateEvent.detail={email:t.email,id:t.id};try{document.body.dispatchEvent(clearEvent),document.body.dispatchEvent(updateEvent)}catch(t){console.error("Updated Event Error")}}function autoFillData(t){autofillEvent.initEvent("fa.investnow.autofill",!0,!1),autofillEvent.investor={name:t.firstName+" "+t.lastName,email:t.email,contact_name:t.firstName+" "+t.lastName},autofillEvent.associated_person={name:t.firstName+" "+t.lastName,email:t.email}}var serverContext=window.location.protocol+"//"+window.location.host+"/",userLogged=null,daysLeft=0,hoursLeft=0,minutesLeft=0,asking=0,progress=0;console.log("Calling my");var updateEvent=document.createEvent("Event"),autofillEvent=document.createEvent("Event"),clearEvent=document.createEvent("Event");clearEvent.initEvent("fa.investnow.clear",!0,!1);var bindButtonsEvent=document.createEvent("Event");bindButtonsEvent.initEvent("fa.investnow.bindButtons",!0,!1);var getDataEvent=document.createEvent("Event");getDataEvent.initEvent("fa.investnow.getData",!0,!1),document.addEventListener("fa.investnow.open",function(t){console.log("InvestNow Open"),document.body.dispatchEvent(autofillEvent),document.body.dispatchEvent(getDataEvent)}),$(document).ready(function(){$(".user").hide(),$(".nouser").hide(),loadUser(),loadOfferingData($("#invest_now_panel"),window.location.pathname.split("/")[2])});